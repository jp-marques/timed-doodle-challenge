/* Scoped styles for LobbyView */

.lobby-header { text-align: center; margin: 0 auto; max-width: 640px; }
.lobby-subhead { color: var(--muted); margin-top: 4px; }
.lobby-code { margin-top: 8px; display: flex; gap: 8px; justify-content: center; }

.lobby-grid { display: grid; gap: 16px; margin: 16px auto 0; max-width: 1120px; align-items: stretch; }
.lobby-grid .card + .card { margin-top: 0; }
@media (min-width: 900px) {
  .lobby-grid { grid-template-columns: 360px 1fr; align-items: stretch; }
}

/* Players */
.players-card { display: flex; flex-direction: column; height: 100%; }
.players-card .players { flex: 1 1 auto; overflow: auto; }
.avatar {
  width: 28px;
  height: 28px;
  border-radius: 999px;
  border: 1px solid var(--line);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  font-weight: 600;
  color: #111318;
}

/* Category tiles */
.category-grid { display: grid; grid-template-columns: repeat(3, minmax(0, 1fr)); gap: 12px; }
@media (max-width: 640px) {
  /* phones: 2 across */
  .category-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
  /* If there's an odd number of items, make the last tile span both columns */
  .category-grid > :last-child:nth-child(odd) { grid-column: 1 / -1; }
}

.category-tile {
  display: inline-flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 8px;
  min-height: 72px;
  border: 1px solid var(--line);
  border-radius: var(--radius);
  background: var(--card);
  color: var(--text);
  padding: 10px;
  /* Ensure tiles stretch to full column/row width across browsers */
  width: 100%;
}
.category-tile.selected { border-color: var(--primary); box-shadow: 0 0 0 3px var(--ring); }
.category-tile:focus-visible { outline: none; box-shadow: 0 0 0 3px var(--ring); }
.tile-icon svg { width: 20px; height: 20px; }
.tile-label { font-size: 14px; }

/* Segmented control for duration */
.segment-row { display: flex; flex-wrap: wrap; gap: 8px; }
.segment {
  border: 1px solid var(--line);
  background: #f9fafb;
  color: var(--text);
  border-radius: 999px;
  padding: 6px 10px;
}
.segment[aria-pressed="true"] { background: var(--primary); color: #fff; border-color: var(--primary); }
.segment:focus-visible { outline: none; box-shadow: 0 0 0 3px var(--ring); }
.segment.highlight-in { animation: segment-pop-in 220ms ease-out; }
@keyframes segment-pop-in { from { transform: scale(0.98); filter: brightness(0.98); } to { transform: scale(1); filter: none; } }

/* Actions */
.lobby-actions.sticky-action {
  position: sticky;
  bottom: 0;
  /* Always-on frosted backdrop with progressive gradient for readability over content */
  background: linear-gradient(180deg, rgba(252,252,252,0.0), rgba(252,252,252,0.7) 40%, rgba(252,252,252,0.95) 100%);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  padding-top: 8px;
  border-top: 1px solid var(--line);
  z-index: 5;
}
.lobby-actions { display: flex; gap: 12px; justify-content: center; max-width: 560px; margin: 12px auto 0; padding-bottom: 8px; }
.lobby-actions .ready-counter { min-width: 88px; text-align: center; }
.lobby-actions .btn { flex: 1 1 220px; }

/* Toast */
.toast-region { position: fixed; left: 0; right: 0; bottom: 16px; display: flex; justify-content: center; pointer-events: none; }
.toast { background: #111318; color: #fff; padding: 8px 12px; border-radius: 8px; box-shadow: 0 6px 24px rgba(0,0,0,0.2); pointer-events: auto; }

/* Fade-out for custom duration input on auto-close */
.fade-out { animation: fade-out 220ms ease-in forwards; }
@keyframes fade-out { from { opacity: 1; transform: translateY(0); } to { opacity: 0; transform: translateY(4px); } }

/* Scoped disabled styling for settings when user is not host */
.lobby-grid .card.card-disabled { filter: saturate(0.85); }

/* Disabled badge */
.disabled-badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: 12px;
  background: rgba(17, 19, 24, 0.7);
  color: #fff;
  padding: 4px 8px;
  border-radius: 999px;
}

/* Make disabled controls feel disabled without heavy visuals */
.lobby-grid .card.card-disabled .segment,
.lobby-grid .card.card-disabled .category-tile,
.lobby-grid .card.card-disabled .input {
  opacity: 0.75;
  cursor: not-allowed;
}

/* Spacing for helper text under settings header */
.lobby-grid .card .muted { margin-top: 4px; margin-bottom: 12px; }

/* Read-only value next to the Custom button for non-hosts */
.segment-value { align-self: center; color: var(--muted); font-size: 14px; margin-left: 4px; }


